import re
import json
import os
from pprint import pprint, pformat

python_video = [
	'1-1.mp4',
	'1-2.mp4',
	'1-3.mp4',
	'1-4.mp4',
	'1-5.mp4',
	'1-6.mp4',
	'1-7-answer.mp4',
	'1-7.mp4',
	'1-8.mp4',
	'1-9.mp4',
	'1-10.mp4',
	'1-11.mp4',
	'1-12-answer.mp4',
	'1-12.mp4',
	'1-13-answer.mp4',
	'1-13.mp4',
	'1-14-answer.mp4',
	'1-14.mp4',
	'1-15-answer.mp4',
	'1-15.mp4',
	'1-16-answer.mp4',
	'1-16.mp4',
	'1-17-answer.mp4',
	'1-17.mp4',
	'1-18.mp4',
	'1-19.mp4',
	'1-20.mp4',
	'1-21.mp4',
	'1-22.mp4',
	'2-1-answer.mp4',
	'2-1.mp4',
	'2-2-answer.mp4',
	'2-2.mp4',
	'2-3.mp4',
	'2-4.mp4',
	'2-5-answer.mp4',
	'2-5.mp4',
	'2-6.mp4',
	'2-7-answer.mp4',
	'2-7.mp4',
	'2-8-answer.mp4',
	'2-8.mp4',
	'2-9-answer.mp4',
	'2-9.mp4',
	'2-10-answer.mp4',
	'2-10.mp4',
	'2-11-answer.mp4',
	'2-11.mp4',
	'2-12-answer.mp4',
	'2-12.mp4',
	'2-13-answer.mp4',
	'2-13.mp4',
	'2-14-answer.mp4',
	'2-14.mp4',
	'2-15-answer.mp4',
	'2-15.mp4',
	'2-16-answer.mp4',
	'2-16.mp4',
	'2-17.mp4',
	'2-18.mp4',
	'2-19-answer.mp4',
	'2-19.mp4',
	'2-20-answer.mp4',
	'2-20.mp4',
	'2-21.mp4',
	'2-22.mp4',
	'2-23.mp4',
	'2-24.mp4',
	'2-25-answer.mp4',
	'2-25.mp4',
	'2-26-answer.mp4',
	'2-26.mp4',
	'2-27-answer.mp4',
	'2-27.mp4',
	'2-28.mp4',
	'2-29.mp4',
	'2-30.mp4',
	'2-31-answer.mp4',
	'2-31.mp4',
	'2-32.mp4',
	'2-33.mp4',
	'2-34.mp4',
	'3-1-answer.mp4',
	'3-1.mp4',
	'3-2.mp4',
	'3-3-answer.mp4',
	'3-3.mp4',
	'3-4-answer.mp4',
	'3-4.mp4',
	'3-5-answer.mp4',
	'3-5.mp4',
	'3-6-answer.mp4',
	'3-6.mp4',
	'3-7-answer.mp4',
	'3-7.mp4',
	'3-8-answer.mp4',
	'3-8.mp4',
	'3-9-answer.mp4',
	'3-9.mp4',
	'3-10-answer.mp4',
	'3-10.mp4',
	'3-11-answer.mp4',
	'3-11.mp4',
	'3-12-answer.mp4',
	'3-12.mp4',
	'3-13.mp4',
	'3-14.mp4',
	'3-15-answer.mp4',
	'3-15.mp4',
	'3-16-answer.mp4',
	'3-16.mp4',
	'3-17-answer.mp4',
	'3-17.mp4',
	'3-18-answer.mp4',
	'3-18.mp4',
	'3-19-answer.mp4',
	'3-19.mp4',
	'3-20.mp4',
	'3-21.mp4',
	'4-1.mp4',
	'4-2.mp4',
	'4-3.mp4',
	'4-4.mp4',
	'4-5-answer.mp4',
	'4-5.mp4',
	'4-6.mp4',
	'4-7.mp4',
	'4-8.mp4',
	'4-9.mp4',
	'4-10-answer.mp4',
	'4-10.mp4',
	'4-11.mp4',
	'4-12.mp4',
	'5-1.mp4',
	'5-2.mp4',
	'5-3-answer.mp4',
	'5-3.mp4',
	'5-4.mp4',
	'5-5-answer.mp4',
	'5-5.mp4',
	'5-6-answer.mp4',
	'5-6.mp4',
	'5-7.mp4',
	'5-8-answer.mp4',
	'5-8.mp4',
	'5-9-answer.mp4',
	'5-9.mp4',
	'5-10.mp4',
	'5-11-answer.mp4',
	'5-11.mp4',
	'5-12-answer.mp4',
	'5-12.mp4',
	'5-13-answer.mp4',
	'5-13.mp4',
	'5-14-answer.mp4',
	'5-14.mp4',
	'5-15-answer.mp4',
	'5-15.mp4',
	'5-16-answer.mp4',
	'5-16.mp4',
	'5-17-answer.mp4',
	'5-17.mp4',
	'5-18.mp4',
	'5-19-answer.mp4',
	'5-19.mp4',
	'5-20.mp4',
	'5-21.mp4',
	'5-22-answer.mp4',
	'5-22.mp4',
	'5-23-answer.mp4',
	'5-23.mp4',
	'5-24-answer.mp4',
	'5-24.mp4',
	'5-25.mp4',
	'5-26.mp4',
	'5-27-answer.mp4',
	'5-27.mp4',
	'5-28-answer.mp4',
	'5-28.mp4',
	'5-29.mp4',
	'5-30.mp4',
	'6-1.mp4',
	'6-2.mp4',
	'6-3-answer.mp4',
	'6-3.mp4',
	'6-4.mp4',
	'6-5-answer.mp4',
	'6-5.mp4',
	'6-6-answer.mp4',
	'6-6.mp4',
	'6-7-answer.mp4',
	'6-7.mp4',
	'6-8-answer.mp4',
	'6-8.mp4',
	'6-9.mp4',
	'7-1.mp4',
	'7-2.mp4',
	'7-3.mp4',
	'7-4-answer.mp4',
	'7-4.mp4',
	'7-5-answer.mp4',
	'7-5.mp4',
	'7-6-answer.mp4',
	'7-6.mp4',
	'7-7.mp4',
	'7-8-answer.mp4',
	'7-8.mp4',
	'7-9-answer.mp4',
	'7-9.mp4',
	'7-10.mp4',
	'7-11.mp4',
	'7-12.mp4',
	'7-13.mp4',
	'7-14.mp4',
	'7-15.mp4',
	'7-16-answer.mp4',
	'7-16.mp4',
	'7-17.mp4',
	'7-18.mp4',
	'7-19-answer.mp4',
	'7-19.mp4',
	'8-1.mp4',
	'8-2.mp4',
	'8-3-answer.mp4',
	'8-3.mp4',
	'8-4-answer.mp4',
	'8-4.mp4',
	'8-5.mp4',
	'8-6-answer.mp4',
	'8-6.mp4',
	'8-7.mp4',
	'8-8.mp4',
	'8-9-answer.mp4',
	'8-9.mp4',
	'8-10-answer.mp4',
	'8-10.mp4',
	'8-11.mp4',
	'8-12-answer.mp4',
	'8-12.mp4',
	'8-13-answer.mp4',
	'8-13.mp4',
	'8-14.mp4',
	'8-15-answer.mp4',
	'8-15.mp4',
	'8-16-answer.mp4',
	'8-16.mp4',
	'8-17-answer.mp4',
	'8-17.mp4',
	'8-18-answer.mp4',
	'8-18.mp4',
	'8-19.mp4',
	'8-20-answer.mp4',
	'8-20.mp4',
	'8-21.mp4',
	'8-22-answer.mp4',
	'8-22.mp4',
	'8-23-answer.mp4',
	'8-23.mp4',
	'8-24.mp4',
	'8-25-answer.mp4',
	'8-25.mp4',
	'8-26-answer.mp4',
	'8-26.mp4',
	'8-27-answer.mp4',
	'8-27.mp4',
	'8-28-answer.mp4',
	'8-28.mp4',
	'8-29.mp4',
	'8-30-answer.mp4',
	'8-30.mp4',
	'8-31-answer.mp4',
	'8-31.mp4',
	'8-32.mp4',
	'8-33.mp4',
	'8-34-answer.mp4',
	'8-34.mp4',
	'8-35.mp4',
	'9-1.mp4',
	'9-2-answer.mp4',
	'9-2.mp4',
	'9-3-answer.mp4',
	'9-3.mp4',
	'9-4.mp4',
	'9-5-answer.mp4',
	'9-5.mp4',
	'9-6-answer.mp4',
	'9-6.mp4',
	'9-7-answer.mp4',
	'9-7.mp4',
	'9-8-answer.mp4',
	'9-8.mp4',
	'9-9-answer.mp4',
	'9-9.mp4',
	'9-10.mp4',
	'9-11-answer.mp4',
	'9-11.mp4',
	'9-12.mp4',
	'9-13-answer.mp4',
	'9-13.mp4',
	'9-14-answer.mp4',
	'9-14.mp4',
	'9-15-answer.mp4',
	'9-15.mp4',
	'9-16.mp4',
	'9-17.mp4',
	'9-18.mp4',
	'9-19-answer.mp4',
	'9-19.mp4',
	'9-20.mp4',
	'9-21-answer.mp4',
	'9-21.mp4',
	'9-22-answer.mp4',
	'9-22.mp4',
	'9-23.mp4',
	'9-24.mp4',
	'10-1.mp4',
	'10-2.mp4',
	'10-3.mp4',
	'10-4.mp4',
	'10-5.mp4',
	'10-6-answer.mp4',
	'10-6.mp4',
	'10-7-answer.mp4',
	'10-7.mp4',
	'10-8-answer.mp4',
	'10-8.mp4',
	'10-9-answer.mp4',
	'10-9.mp4',
	'10-10-answer.mp4',
	'10-10.mp4',
	'10-11-answer.mp4',
	'10-11.mp4',
	'10-12-answer.mp4',
	'10-12.mp4',
	'10-13-answer.mp4',
	'10-13.mp4',
	'10-14-answer.mp4',
	'10-14.mp4',
	'10-15.mp4'
	]

scratch_video = [
	'1-0 Scratch課程教戰守則.mp4',
	'1-1.mp4',
	'1-2 Scratch 2.0.mp4',
	'1-3.mp4',
	'1-4 Water Slide.mp4',
	'1-5 武林祕笈一.mp4',
	'1-6 武林祕笈二.mp4',
	'1-7 武林祕笈三.mp4',
	'1-8 武林祕笈四.mp4',
	'1-9 成為 coder.mp4',
	'1-10 內功：圖形編輯器一.mp4',
	'1-11 小測驗一.mp4',
	'1-12 結果.mp4',
	'1-13 解說一.mp4',
	'1-14 解說二.mp4',
	'1-15 解說三.mp4',
	'1-16 內功：圖形編輯器二.mp4',
	'1-17 小測驗二.mp4',
	'1-18 解說四.mp4',
	'1-19 改變舞台.mp4',
	'1-20 角色與舞台.mp4',
	'1-21 範例.mp4',
	'1-22 小紅帽.mp4',
	'1-23 作業.mp4',
	'2-1 申請帳號.mp4',
	'2-2 社群使用須知.mp4',
	'2-3 上傳作品.mp4',
	'2-4 建立工作室.mp4',
	'2-5 交作業.mp4',
	'2-6 指令與序列.mp4',
	'2-7 指令與序列.mp4',
	'2-8 與程式做互動一.mp4',
	'2-9 與程式做互動二.mp4',
	'2-10 Scratch舞台.mp4',
	'2-11 滑鼠與角色座標.mp4',
	'2-12 內功 動作積木.mp4',
	'2-13 小測驗.mp4',
	'2-14 解說一.mp4',
	'2-15 解說二.mp4',
	'2-16 解說三.mp4',
	'2-17 播放聲音.mp4',
	'2-18 播放聲音解說.mp4',
	'2-19 照相機.mp4',
	'2-20 自我介紹範例.mp4',
	'2-21 作業.mp4',
	'3-1 迴圈.mp4',
	'3-2 事件.mp4',
	'3-3 事件積木.mp4',
	'3-4 平行.mp4',
	'3-5 平行.mp4',
	'3-6 debug.mp4',
	'3-7 Debug it!-1.mp4',
	'3-8 Debug it!-1 解說.mp4',
	'3-9 Debug it!-2.mp4',
	'3-10 Debug it!-2 解說.mp4',
	'3-11 Debug it!-3.mp4',
	'3-12 Debug it!-3 解說.mp4',
	'3-13 Debug it!-4.mp4',
	'3-14 Debug it!-4 解說.mp4',
	'3-15 Debug it!-5.mp4',
	'3-16 Debug it!-5 解說.mp4',
	'3-17 內功 聲音積木.mp4',
	'3-18 小測驗.mp4',
	'3-19 解說一.mp4',
	'3-20 解說二.mp4',
	'3-21 解說三.mp4',
	'3-22 加入mp3.mp4',
	'3-23 合奏.mp4',
	'3-24 建立樂團.mp4',
	'3-25 作業.mp4',
	'4-1 探索藝術檔案.mp4',
	'4-2 示範動畫.mp4',
	'4-3 內功外觀積木.mp4',
	'4-4 小測驗.mp4',
	'4-5 解說一.mp4',
	'4-6 解說二.mp4',
	'4-7 解說三.mp4',
	'4-8 Debug it!-1.mp4',
	'4-9 Debug it!-1 解說.mp4',
	'4-10 Debug it!-2.mp4',
	'4-11 Debug it!-2 解說.mp4',
	'4-12 Debug it!-3.mp4',
	'4-13 Debug it!-3 解說.mp4',
	'4-14 Debug it!-4.mp4',
	'4-15 Debug it!-4 解說.mp4',
	'4-16 Debug it!-5.mp4',
	'4-17 Debug it!-5 解說.mp4',
	'4-18 註解.mp4',
	'4-19 音樂影片.mp4',
	'4-20 作業.mp4',
	'5-1 更多積木.mp4',
	'5-2 製作第一個積木.mp4',
	'5-3 有輸入值的積木.mp4',
	'5-4 積木的應用.mp4',
	'5-5 對話一.mp4',
	'5-6 對話一 解說.mp4',
	'5-7 蘿蔔蹲.mp4',
	'5-8 蘿蔔蹲 解說.mp4',
	'5-9 對話二.mp4',
	'5-10 Debug it!-1.mp4',
	'5-11 Debug it!-1 解說.mp4',
	'5-12 Debug it!-2.mp4',
	'5-13 Debug it!-2 解說.mp4',
	'5-14 Debug it!-3.mp4',
	'5-15 Debug it!-3 解說.mp4',
	'5-16 Debug it!-4.mp4',
	'5-17 Debug it!-4 解說.mp4',
	'5-18 Debug it!-5.mp4',
	'5-19 Debug it!-5 解說.mp4',
	'5-20 作業.mp4',
	'6-1 remix.mp4',
	'6-2 條件.mp4',
	'6-3 True&False.mp4',
	'6-4 Boolean.mp4',
	'6-5 內功 畫筆積木.mp4',
	'6-6 小測驗.mp4',
	'6-7 解說.mp4',
	'6-8 自動繪圖.mp4',
	'6-9 運算子.mp4',
	'6-10 內功 運算積木.mp4',
	'6-11 解說一.mp4',
	'6-12 解說二.mp4',
	'6-13 解說三.mp4',
	'6-14 作業.mp4',
	'7-1 迷宮三部曲之一.mp4',
	'7-2 迷宮三部曲之二.mp4',
	'7-3 迷宮三部曲之三.mp4',
	'7-4 碰碰球.mp4',
	'7-5 碰碰球 解說.mp4',
	'7-6 捲動螢幕.mp4',
	'7-7 捲動螢幕 解說.mp4',
	'7-8 作業.mp4',
	'8-1 擴充遊戲.mp4',
	'8-2 解說一 分數.mp4',
	'8-3 解說二 敵人.mp4',
	'8-4 解說三 碰撞.mp4',
	'8-5 製造分身.mp4',
	'8-6 製造分身 解說一.mp4',
	'8-7 製造分身 解說二.mp4',
	'8-8 作業.mp4',
	'9-1 等級.mp4',
	'9-2 等級 解說.mp4',
	'9-3 計時器.mp4',
	'9-4 計時器 解說.mp4',
	'9-5 獎勵.mp4',
	'9-6 獎勵 解說.mp4',
	'9-7 滑鼠.mp4',
	'9-8 重新開始.mp4',
	'9-9 功能表.mp4',
	'9-10 功能表 解說.mp4',
	'9-11 多人遊戲.mp4',
	'9-12 變數和清單.mp4',
	'9-13 作業.mp4',
	'10-1 Debug it!-1.mp4',
	'10-2 Debug it!-1 解說.mp4',
	'10-3 Debug it!-2.mp4',
	'10-4 Debug it!-2 解說.mp4',
	'10-5 Debug it!-3.mp4',
	'10-6 Debug it!-3 解說.mp4',
	'10-7 Debug it!-4.mp4',
	'10-8 Debug it!-4 解說.mp4',
	'10-9 Debug it!-5.mp4',
	'10-10 Debug it!-5 解說.mp4',
	'10-11 視訊動作.mp4',
	'10-12 視訊動作 解說.mp4',
	'10-13 音量控制.mp4',
	'10-14 音量控制 解說.mp4',
	'10-15 畢業囉.mp4',
	]

session_re = r"[0-9]{1,2}-[0-9]{1,2}"

# with open(os.getcwd() + "/classes/python_01.json") as file:
# 	read = file.read()
# 	read = read.replace("'", '"')
# 	python_json = json.loads(read)

with open(os.getcwd() + "/classes/scratch_1.json") as file:
	read = file.read()
	read = read.replace("'", '"')
	scratch_json = json.loads(read)

# filepath = "/video/python_01/"
# for v in python_video:
# 	s = re.findall(session_re, v)[0]

# 	unit, class_ = s.split("-")
# 	unit, class_ = int(unit) - 1, int(class_) - 1

# 	if v.find("answer") > 0:
# 		python_json["info"][unit][class_]["answer"] = filepath + v
# 	else:
# 		python_json["info"][unit][class_]["video"] = filepath + v

# with open(os.getcwd() + "/offline/classes/python_01.json", "w") as file:
# 	file.write(pformat(python_json))

# pprint(python_json)

filepath = "/video/scratch_1/"
for v in scratch_video:
	s = re.findall(session_re, v)[0]

	unit, class_ = s.split("-")
	unit, class_ = int(unit) - 1, int(class_) - 1


	scratch_json["info"][unit][class_]["video"] = filepath + v

with open(os.getcwd() + "/offline/classes/scratch_1.json", "w") as file:
	file.write(pformat(scratch_json))